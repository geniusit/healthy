[![Build status](https://img.shields.io/travis/katiawheeler/healthy.svg?style=flat-square)](https://img.shields.io/travis/katiawheeler/healthy.svg?style=flat-square)
[![Repo size](https://img.shields.io/github/repo-size/katiawheeler/healthy.svg?style=flat-square)](https://img.shields.io/github/repo-size/katiawheeler/healthy.svg?style=flat-square)
[![Open Issues](https://img.shields.io/github/issues/katiawheeler/healthy.svg?style=flat-square)](https://img.shields.io/github/issues/katiawheeler/healthy.svg?style=flat-square)

# Healthy

Healthy is a react-based health check application for the APIs serving your client application. Quickly alert your users to API issues.

- [Installation](##Installation)
- [Usage](##Usage)
  - [Banner Component](###Banner-Component)
  - [Status Page](###Status-Page)
  - [Begin Function](###Begin-Function)

## Installation

```
npm i react-healthy
```

or

```
yarn add react-healthy
```

## Usage

You can import one of the pre-made React components from the package or the functionality to create your own status page or banner. The only thing you need to adhere to is the shape of the APIs you pass in.

```ts
interface Api {
  name: string;
  endpoint: string;
  options?: {
    message: string;
  };
}
```

### Banner Component

The `Healthy` component is a banner that will display at the top of your application, alerting the user to any issues with the APIs you pass in. It takes in the following prop options:

```ts
interface HealthyProps {
  /** An array of API objects */
  apis: Api[];

  /** A callback that's called after the component handles the error, for additional error handling */
  onError?: Handler;

  /** The interval at which to call the APIs in milliseconds - default is 30 seconds (30000) */
  interval?: number;

  /** A callback to handle all responses that are not errors
   */
  onResponse?: Handler;

  /** CSS class names to assign to the banner, banner content, and close button */
  classes?: {
    banner?: string;
    content?: string;
    closeButton?: string;
  };

  /** Whether or not to show a close icon - default is false */
  isCloseable?: boolean;
}
```

Simply import the `Healthy` component in your main container, and pass in an array of APIs

Example:

```jsx
// index.js - generated by CRA

import React from 'react';
import ReactDOM from 'react-dom';
import { Healthy } from 'react-healthy';

import App from './App';
import * as serviceWorker from './serviceWorker';

const myAppsApis = [
  {
    name: 'Api1',
    endpoint: 'https://google.com'
  },
  {
    name: 'Api2',
    endpoint: 'https://bing.com'
  }
];

ReactDOM.render(
  <React.Fragment>
    <Healthy apis={myAppsApis} />
    <App />
  </React.Fragment>
  , document.getElementById('root'));


// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();

```

### Status Page



NPM Package to come (and more docs)!
